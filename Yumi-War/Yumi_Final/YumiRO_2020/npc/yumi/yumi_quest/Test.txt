prontera,153,170,4	script	Test	55,{
	callfunc "Quest_Log";
	mes "close";
	close;
}



prontera,159,167,4	script	StartingNPC	55,{
	if( callfunc( "Quest_CheckFinished", 0 ) == 1 ) {
		mes "Thank you for your help earlier.";
		close;
	} else if( callfunc( "Quest_CheckState", 0 ) == 1 ) {
		mes "I would like you to bring 50 Apples to NPC NextNPC.";
		close;
	} else if( callfunc( "Quest_CheckState", 0 ) == 2 ) {
		getitem 501, 1;
		callfunc "Quest_NextState", 0, 1;
		callfunc "Quest_Start", 1;
		mes "Thank you for your help.";
		close;
	} else {
		mes "You are starting the Apple Quest.";
		callfunc "Quest_Start", 0;
		close;
	}
}



prontera,155,162,4	script	NextNPC	55,{
	if( callfunc( "Quest_CheckFinished", 0 ) == 1 ) {
		mes "Thank you for your help earlier.";
		close;
	} else if( callfunc( "Quest_CheckState", 0 ) == 1 ) {
		if( countitem( 501 ) >= 50 ) {
			delitem 501, 50;
			callfunc "Quest_NextState", 0;
			mes "Thank you.";
			close;
		} else {
			mes "You do not have 50 apples.";
			close;
		}
	} else if( callfunc( "Quest_CheckState", 0 ) == 2 ) {
		mes "Go back to StartingNPC.";
		close;
	} else {
		mes "How are you?";
		close;
	}
}